webpackJsonp([7],{grzu:function(t,s,o){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e={data:function(){return{goodsList:[],total:0,showPop:!1,freight:12,password:"",showKeyboard:!1}},methods:{order:function(){this.showPop=!0,this.password=""},enterPass:function(){this.showKeyboard=!0,document.querySelector(".van-key--delete").innerHTML='<img src="https://s2.ax1x.com/2019/11/21/M5HMVg.png">'},onInput:function(t){this.password=(this.password+t).slice(0,6),6==this.password.length&&(this.$toast({type:"success",message:"密码输入完成"}),this.showPop=!1)},onDelete:function(){this.password=this.password.substring(0,this.password.length-1)},closePop:function(){this.showKeyboard=!1}},computed:{filterTotal:function(){return this.total/100-this.freight}},activated:function(){var t=this;this.total=0;var s=JSON.parse(localStorage.getItem("confirmOrder"));s.map(function(s){s.spec="规格 "+s.spec,t.total+=s.price*s.number*100}),this.total+=100*this.freight,this.goodsList=s},deactivated:function(){this.goodsList=[],localStorage.removeItem("confirmOrder")},beforeRouteLeave:function(t,s,o){if(this.showPop)return this.showPop=!1,void this.$router.go(1);o()}},i={render:function(){var t=this,s=t.$createElement,o=t._self._c||s;return o("div",{staticClass:"confirmOrder"},[o("header",[o("i",{staticClass:"iconfont icon-back",on:{click:function(s){return t.$router.go(-1)}}}),t._v(" "),o("span",[t._v("确认订单")])]),t._v(" "),o("div",{staticClass:"place"}),t._v(" "),t._m(0),t._v(" "),o("div",{staticClass:"number"},[o("van-divider",[t._v("共"+t._s(t.goodsList.length)+"件商品")])],1),t._v(" "),o("div",{staticClass:"main"},t._l(t.goodsList,function(t,s){return o("van-card",{key:s,attrs:{num:t.number,price:t.price,desc:t.spec,title:t.name,thumb:t.img}})}),1),t._v(" "),o("div",{staticClass:"info"},[o("p",[t._v("商品总价："),o("span",[t._v("¥"+t._s(t.filterTotal))])]),t._v(" "),o("p",[t._v("运费："),o("span",[t._v("¥"+t._s(t.freight))])])]),t._v(" "),o("van-submit-bar",{attrs:{price:t.total,"button-text":"提交订单"},on:{submit:t.order}}),t._v(" "),o("van-popup",{style:{height:"66%"},attrs:{position:"bottom",closeable:!0,"close-on-click-overlay":!1,"close-icon-position":"top-left",duration:.17},on:{closed:t.closePop},model:{value:t.showPop,callback:function(s){t.showPop=s},expression:"showPop"}},[o("div",{staticClass:"title"},[t._v("\n\t\t\t"+t._s(t.showKeyboard?"请输入支付密码":"确认付款")+"\n\t\t\t"),o("img",{directives:[{name:"show",rawName:"v-show",value:!t.showKeyboard,expression:"!showKeyboard"}],attrs:{src:"https://s2.ax1x.com/2019/11/21/M5E7od.png",alt:""}})]),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:!t.showKeyboard,expression:"!showKeyboard"}],staticClass:"popMain"},[o("div",{staticClass:"lastPrice"},[t._v("\n\t\t\t\t¥ "),o("span",[t._v(t._s((t.total/100).toFixed(2)))])]),t._v(" "),o("div",{staticClass:"list"},[o("p",[o("span",{staticClass:"itemTitle"},[t._v("支付宝账号")]),t._v(" "),o("span",[t._v("123******89")])]),t._v(" "),o("p",[o("span",{staticClass:"itemTitle"},[t._v("付款方式")]),t._v(" "),o("span",[t._v("账户余额 "),o("i",{staticClass:"iconfont icon-right"})])])])]),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:t.showKeyboard,expression:"showKeyboard"}],staticClass:"enterPass"},[o("van-password-input",{attrs:{value:t.password,info:"忘记密码？找回并完成支付",focused:!1},on:{focus:function(s){t.showKeyboard=!0}}}),t._v(" "),o("van-number-keyboard",{attrs:{show:t.showKeyboard},on:{input:t.onInput,delete:t.onDelete}})],1),t._v(" "),o("div",{staticClass:"bottom"},[o("img",{attrs:{src:"https://s2.ax1x.com/2019/11/21/M5eqY9.png",alt:""}}),t._v("\n\t\t\t请验证指纹或者 "),o("span",{on:{click:t.enterPass}},[t._v("输入密码")])])])],1)},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"userInfo"},[s("div",{staticClass:"left"},[s("img",{attrs:{src:"https://gw.alicdn.com/tfs/TB17gX2wYvpK1RjSZPiXXbmwXXa-128-128.png_70x70q90_.webp"}})]),this._v(" "),s("div",{staticClass:"right"},[s("p",{staticClass:"name"},[this._v("\n\t\t\t\t某某先生 \n\t\t\t\t"),s("span",{staticClass:"phone"},[this._v("12345678910")])]),this._v(" "),s("p",{staticClass:"address"},[this._v("\n\t\t\t\t浙江省温州市乐清市瑞安市龙湾区鹿城区瓯海区 某某街道\n\t\t\t\t"),s("i",{staticClass:"iconfont icon-right"})]),this._v(" "),s("p",[this._v("收货不便时,可选择免费暂存服务")])])])}]};var a=o("C7Lr")(e,i,!1,function(t){o("z5lO")},"data-v-56336318",null);s.default=a.exports},z5lO:function(t,s){}});
//# sourceMappingURL=7.94230c92c4ec6b070b5e.js.map